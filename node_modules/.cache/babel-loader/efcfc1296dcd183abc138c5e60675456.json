{"ast":null,"code":"var _jsxFileName = \"/home/josh/projects/llth-blackjack/blackjack/src/blackjack/Game.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Grid } from \"@mui/material/\";\nimport styledCom from 'styled-components';\nimport Deck from \"./cards/Deck.js\";\nimport Card from \"./cards/RenderCard.js\";\nimport DealCards from \"./cards/DealCards.js\";\nimport ActionBtns from \"./player/Actions.js\";\nimport Scores from \"./UI/Scores.js\";\nimport Visuals from \"./UI/Visuals.js\";\nimport ShowResults from \"./UI/Results.js\"; // Core Game Component\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Game = () => {\n  _s();\n\n  //   // Initializes and holds game state\n  const GameState = {\n    bet: 'bet',\n    init: 'init',\n    playerTurn: 'playerTurn',\n    dealerTurn: 'dealerTurn'\n  };\n  const Deal = {\n    player: 'player',\n    dealer: 'dealer',\n    hidden: 'hidden'\n  };\n  const Results = {\n    blackjack: 'blackjack',\n    playerWins: 'playerWins',\n    dealerWins: 'dealerWins',\n    playerBusts: 'playerBusts',\n    dealerBusts: 'dealerBusts',\n    push: 'push'\n  };\n  const [gameState, setGameState] = useState(GameState.bet);\n  const [game, setGame] = useState(\"placeBets\");\n  const [balance, setBalance] = useState(1000);\n  const [betSize, setBetSize] = useState(0);\n  const [deck, setDeck] = useState(Deck);\n  const [hiddenCard, setHiddenCard] = useState([]);\n  const [dealerHand, setDealerHand] = useState([]);\n  const [dealerScore, setDealerScore] = useState(0);\n  const [playerHand, setPlayerHand] = useState([]);\n  const [playerScore, setPlayerScore] = useState(0);\n  const [dealerCount, setDealerCount] = useState(0);\n  const [playerCount, setPlayerCount] = useState(0); // Initialize Game\n\n  useEffect(() => {\n    if (gameState === GameState.init) {\n      dealHands();\n      setGameState(GameState.playerTurn);\n    }\n  }, [gameState]); // Update scores\n\n  useEffect(() => {\n    calculate(dealerHand, setDealerScore);\n    setDealerCount(dealerCount + 1);\n  }, [dealerHand, hiddenCard]);\n  useEffect(() => {\n    calculate(playerHand, setPlayerScore);\n    setPlayerCount(playerCount + 1);\n  }, [playerHand]); // Player turn\n\n  useEffect(() => {\n    if (playerCount === 2 && playerScore === 21 && dealerScore !== 21) {\n      setGame(Results.blackjack);\n      alert('Blackjack!');\n      setTimeout(() => reset(), [2000]);\n    }\n\n    ;\n\n    if (playerScore > 21) {\n      setGame(Results.playerBusts);\n      alert('Player Busts');\n      setTimeout(() => reset(), [2000]);\n    }\n\n    ;\n  }, [playerCount]); // Dealer turn\n\n  useEffect(() => {\n    if (gameState === GameState.dealerTurn) {\n      if (dealerScore > 21) {\n        setGame(Results.dealerBusts);\n        alert('Dealer Busts');\n        setTimeout(() => setGameState(GameState.bet), [2000]);\n        setTimeout(() => reset(), [2000]);\n      } else if (dealerScore >= 17 && dealerScore <= 21) {\n        checkWin();\n      } else {\n        setTimeout(() => drawCard(Deal.dealer), [300]);\n      }\n    }\n  }, [dealerCount]); // Game functions\n\n  const shuffle = () => {\n    let newDeck = JSON.parse(JSON.stringify(Deck));\n    return setDeck(newDeck);\n  };\n\n  const handleClear = () => {\n    setBetSize(0);\n  };\n\n  const handleMax = () => {\n    setBetSize(balance);\n  };\n\n  const handleClick = e => {\n    let value = e.target.value;\n\n    if (parseInt(betSize) + parseInt(value) > parseInt(balance)) {\n      alert(\"Not Enough Minerals\");\n    } else {\n      setBetSize(parseInt(betSize) + parseInt(value));\n    }\n\n    ;\n  };\n\n  const dealHands = () => {\n    setTimeout(() => drawCard(Deal.player), [800]);\n    setTimeout(() => drawCard(Deal.hidden), [1300]);\n    setTimeout(() => drawCard(Deal.player), [1800]);\n    setTimeout(() => drawCard(Deal.dealer), [2300]);\n    setTimeout(() => setGame(\"inProgress\"), [2800]);\n  };\n\n  const drawCard = dealType => {\n    if (deck.length > 5) {\n      const randomIndex = Math.floor(Math.random() * deck.length);\n      var card = deck[randomIndex];\n      deck.splice(randomIndex, 1);\n      setDeck([...deck]);\n      console.log(card, 'Remaining Cards:', deck.length);\n      dealCard(dealType, card);\n    }\n\n    ;\n\n    if (deck.length <= 5) {\n      shuffle();\n      dealCard(dealType, card);\n    }\n  };\n\n  const dealCard = (dealType, card) => {\n    switch (dealType) {\n      case Deal.player:\n        playerHand.push(card);\n        setPlayerHand([...playerHand]);\n        break;\n\n      case Deal.dealer:\n        dealerHand.push(card);\n        setDealerHand([...dealerHand]);\n        break;\n\n      case Deal.hidden:\n        hiddenCard.push(card);\n        setHiddenCard([...hiddenCard]);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const revealCard = () => {\n    let hidden = hiddenCard.pop();\n    dealerHand.push(hidden);\n    setDealerHand([...dealerHand]);\n  };\n\n  const calculate = (cards, setScore) => {\n    let total = 0;\n    cards.forEach(card => {\n      if (!card.includes('A')) {\n        if (card.includes('K')) {\n          total += 10;\n        } else if (card.includes('Q')) {\n          total += 10;\n        } else if (card.includes('J')) {\n          total += 10;\n        } else if (card.includes('T')) {\n          total += 10;\n        } else {\n          total += parseInt(card);\n        }\n\n        ;\n      }\n\n      ;\n    });\n    const aces = cards.filter(card => {\n      return card.includes('A');\n    });\n    aces.forEach(() => {\n      if (total + 11 > 21) {\n        total += 1;\n      } else if (total + 11 === 21) {\n        if (aces.length > 1) {\n          total += 1;\n        } else {\n          total += 11;\n        }\n      } else {\n        total += 11;\n      }\n    });\n    setScore(total);\n  }; // Player actions\n\n\n  const handleHit = () => {\n    drawCard(Deal.player);\n  };\n\n  const handleStand = () => {\n    revealCard();\n    setGameState(GameState.dealerTurn);\n  };\n\n  const handleDeal = () => {\n    setGameState(GameState.init);\n    setBalance(balance - betSize);\n  };\n\n  const checkWin = () => {\n    if (dealerScore > playerScore) {\n      setGame(Results.dealerWins);\n      alert('Dealer Wins');\n      setTimeout(() => reset(), [2000]);\n    } else if (dealerScore < playerScore) {\n      setGame(Results.playerWins);\n      alert('Player Wins');\n      setTimeout(() => reset(), [2000]);\n    } else if (dealerScore === playerScore) {\n      setGame(Results.push);\n      alert('Push');\n      setTimeout(() => reset(), [2000]);\n    }\n\n    ;\n  }; // Resets game state\n\n\n  const reset = () => {\n    setHiddenCard([]);\n    setPlayerHand([]);\n    setPlayerScore(0);\n    setPlayerCount(0);\n    setDealerHand([]);\n    setDealerScore(0);\n    setDealerCount(0);\n    setBetSize(0);\n    setGame(\"placeBets\");\n    setGameState(GameState.bet);\n  }; // console.table('Dealer: ', dealerHand)\n  // console.table('Player: ', playerHand)\n  // console.log('dealerScore: ', dealerScore)\n  // console.log('playerScore: ', playerScore)\n  // console.log('dealerCount: ', dealerCount)\n  // console.log('playerCount: ', playerCount)\n  // console.log('Game results: ', game)\n  // console.log('Game State: ', gameState)\n\n\n  console.log(gameState);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(DealerTitle, {\n      children: \"DEALER\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DealerHand, {\n      children: /*#__PURE__*/_jsxDEV(DealerUl, {\n        children: [hiddenCard.map(card => /*#__PURE__*/_jsxDEV(DealerLi, {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            card: card,\n            back: true,\n            height: \"150px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this)\n        }, card, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this)), dealerHand.map(card => /*#__PURE__*/_jsxDEV(DealerLi, {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            card: card,\n            height: \"150px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this)\n        }, card, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DealCards, {\n      balance: balance,\n      betSize: betSize,\n      gameState: gameState,\n      GameState: GameState,\n      handleDeal: handleDeal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PlayerUI, {\n      children: [/*#__PURE__*/_jsxDEV(ShowResults, {\n        game: game,\n        Results: Results,\n        GameState: GameState,\n        setGameState: setGameState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ActionBtns, {\n        game: game,\n        GameState: GameState,\n        Results: Results,\n        dealerHand: dealerHand,\n        playerScore: playerScore,\n        handleStand: handleStand,\n        handleHit: handleHit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PlayerHand, {\n      children: /*#__PURE__*/_jsxDEV(PlayerUl, {\n        children: playerHand.map(card => /*#__PURE__*/_jsxDEV(PlayerLi, {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            card: card,\n            height: \"150px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this)\n        }, card, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Scores, {\n      gameState: gameState,\n      GameState: GameState,\n      playerScore: playerScore,\n      dealerScore: dealerScore\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Visuals, {\n      game: game,\n      gameState: gameState,\n      GameState: GameState,\n      betSize: betSize,\n      balance: balance,\n      playerHand: playerHand,\n      dealerHand: dealerHand,\n      handleClear: handleClear,\n      handleMax: handleMax,\n      handleClick: handleClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 266,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Game, \"Qj8a8TTTwipMRFZiDplHcENhSdU=\");\n\n_c = Game;\nexport default Game;\nconst PlayerUI = styledCom(Grid).attrs({\n  container: true\n})`\n  position: absolute;\n  height: 200px;\n  bottom:-3%;\n  font-size: 18px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  text-shadow: 0 0 10px black;\n  z-index: 29;\n  color: white;\n  font-family: \"Play\", sans-serif;\n  -webkit--select: none;\n  \n`; // Styled Bet Components\n// const Spacing = styledCom(Grid).attrs({\n//   item: true,\n// })`\n//   z-index:-10;\n// `;\n// const SetBetSize = styledCom(Grid).attrs({\n//   container: true,\n// })`\n//   position: absolute;\n//   width: 80%;\n//   height: 110px;\n//   margin: 0 auto;\n//   bottom: 1.5%;\n//   display: flex;\n//   color: black;\n//   justify-content: space-evenly;\n//   align-items: center;\n//   z-index: 400;\n// `;\n// const ClearBet = styledCom(Grid).attrs({\n//   item: true,\n// })`\n//    `;\n// const MaxBet = styledCom(Grid).attrs({\n//   item: true,\n// })`\n//    `;\n// const Grid10 = styledCom(Grid).attrs({\n//   item: true,\n// })` \n//   display:absolute;\n//   justifyContent:center;\n//   alignItems:center;\n//   width: 120px;\n//   height: 150px;\n// `;\n// const Grid20 = styledCom(Grid).attrs({\n//   item: true,\n// })` \n//   display:absolute;\n//   justifyContent:center;\n//   alignItems:center;\n//   width: 120px;\n//   height: 150px;\n// `;\n// const Grid50 = styledCom(Grid).attrs({\n//   item: true,\n// })`\n//   display:absolute;\n//   justifyContent:center;\n//   alignItems:center;\n//   width: 120px;\n//   height: 150px;\n// `;\n// const Grid100 = styledCom(Grid).attrs({\n//   item: true,\n// })` \n//   display:absolute;\n//   justifyContent:center;\n//   alignItems:center;\n//   width: 120px;\n//   height: 150px;\n// `;\n// const Bet10 = styledCom(Bet_10)`\n//   transform: scale(1.1);\n//     @media (max-width: 1450px) {\n//       transform: scale(1.0);\n//     }\n//     @media (max-width: 1200px) {\n//       transform: scale(0.9);\n//     }\n// `;\n// const Bet20 = styledCom(Bet_20)`\n//   transform: scale(1.1);  \n//     @media (max-width: 1450px) {\n//       transform: scale(1.0);\n//     }\n//     @media (max-width: 1200px) {\n//       transform: scale(0.9);\n//     }\n// `;\n// const Bet50 = styledCom(Bet_50)`\n//   transform: scale(1.1);  \n//     @media (max-width: 1450px) {\n//       transform: scale(1.0);\n//     }\n//     @media (max-width: 1200px) {\n//       transform: scale(0.9);\n//     }\n// `;\n// const Bet100 = styledCom(Bet_100)`\n//   transform: scale(1.1);\n//     @media (max-width: 1450px) {\n//       transform: scale(1.0);\n//     }\n//     @media (max-width: 1200px) {\n//       transform: scale(0.9);\n//     }\n// `;\n// const PlaceBetBtn = styledCom.button`\n//   transform: scale(1);\n//   background: transparent;\n//   width: 100px;\n//   height: 100px;\n//   outline: none;\n//   color: white;\n//   border: none;\n//   cursor: pointer;\n//   user-select: none;\n//   font-family: \"Play\", sans-serif;\n//   -webkit-user-select: none;\n//     &:hover {\n//         transform: scale(1.1);\n//     }\n//     &:active {\n//         transform: scale(1);\n//     }\n//       @media (max-width: 1450px) {\n//         transform: scale(1.0);\n//       }\n//       @media (max-width: 1200px) {\n//         transform: scale(0.9);\n//       }\n// `;\n// const ClearBtn = styledCom.button`\n//   background: transparent;\n//   outline: none;\n//   border: none;\n//   cursor: pointer;\n//   user-select: none;\n//   font-family: \"Play\", sans-serif;\n//   -webkit-user-select: none;\n//     &:hover {\n//       transform: scale(1.1);\n//     }\n//     &:active {\n//         transform: scale(0.9);\n//     }\n//       @media (max-width: 1450px) {\n//         transform: scale(1.0);\n//       }\n//       @media (max-width: 1200px) {\n//         transform: scale(0.9);\n//       }\n// `;\n// const MaxBetBtn = styledCom.button`\n//   background: transparent;\n//   outline: none;\n//   border: none;\n//   cursor: pointer;\n//   user-select: none;\n//   -webkit-user-select: none;\n//     &:hover {\n//       transform: scale(1.1);\n//     }\n//     &:active {\n//         transform: scale(0.9);\n//     }\n//       @media (max-width: 1450px) {\n//         transform: scale(1.0);\n//       }\n//       @media (max-width: 1200px) {\n//         transform: scale(0.9);\n//       }\n// `;\n// Styled Chips Components\n// const Chip10 = styledCom.img.attrs({\n//   visibility: \"visible\",\n//   src: Svg10,\n// })`\n//   transform: scale(0.7);\n//   position: absolute;\n//   transform: ${(props) =>\n//     props.one === \"0\" ? \"translateY(-0px)\" : \n//     props.one === \"1\" ? \"translateY(-12px)\" : \n//     props.one === \"2\" ? \"translateY(-24px)\" : \n//     \"translateY(-36px)\"};\n//   bottom:-250px;\n//   margin-left:-20px;\n//   z-index: 8;\n// `;\n// const Chip20 = styledCom.img.attrs({\n//   visibility: \"visible\",\n//   src: Svg20,\n// })`transform: scale(0.7);\n//   position: absolute;\n//   transform: ${(props) =>\n//     props.one === \"0\" ? \"translateY(-0px)\" : \n//     props.one === \"1\" ? \"translateY(-12px)\" : \n//     props.one === \"2\" ? \"translateY(-24px)\" : \n//     \"translateY(-36px)\"};\n//   margin-left: -80px;\n//   bottom: -200px;\n//   z-index: 6;\n// `;\n// const Chip50 = styledCom.img.attrs({\n//   visibility: \"visible\",\n//   src: Svg50,\n// })`\n//   transform: scale(0.7);\n//   position: absolute;\n//   transform: \n//     ${(props) =>\n//     props.one === \"0\" ? \"translateY(-0px)\" : \n//     props.one === \"1\" ? \"translateY(-12px)\" : \n//     props.one === \"2\" ? \"translateY(-24px)\" : \n//     \"translateY(-36px)\"};\n//   margin-left: -155px;\n//   bottom: -135px;\n//   z-index: 4;\n// `;\n// const Chip100 = styledCom.img.attrs({\n//   visibility: \"visible\",\n//   src: Svg100,\n// })`\n//   transform: scale(0.7);\n//   position: absolute;\n//   transform: \n//     ${(props) =>\n//     props.one === \"0\" ? \"translateY(-0px)\" : \n//     props.one === \"1\" ? \"translateY(-12px)\" : \n//     props.one === \"2\" ? \"translateY(-24px)\" : \n//   \"translateY(-36px)\"};\n//   margin-left: -240px;\n//   bottom: -45px;\n//   z-index: 2;\n// `;\n// const ChipsArea = styledCom(Grid).attrs({\n//   container: true, spacing: 8,\n// })`\n//   position: absolute;\n//   height:100px;\n//   bottom: 20%;\n//   display: inline-block;\n//   justify-content: center;\n//   align-items: center;\n//   pointer-events: none;\n// `;\n// const PlaceChip10 = styledCom(Grid).attrs({\n//   item: true,\n// })`\n//   width: 100px;\n//   height: 200px;\n// `;\n// const PlaceChip20 = styledCom(Grid).attrs({\n//   item: true,\n// })`\n//   width: 100px;\n//   height: 200px;\n// `;\n// const PlaceChip50 = styledCom(Grid).attrs({\n//   item: true,\n// })`\n//   width: 100px;\n//   height: 200px;\n// `;\n// const PlaceChip100 = styledCom(Grid).attrs({\n//   item: true,\n// })`\n//   width: 100px;\n//   height: 200px;\n// `;\n// Styled Dealer Components\n\n_c2 = PlayerUI;\nconst DealerTitle = styledCom.h1`\nfont: 18px;\ncolor: white;\n`;\n_c3 = DealerTitle;\nconst DealerHand = styledCom.div`\ndisplay: flex;\njustify-content: center;\nposition: absolute;\nheight: 140px;\nwidth: 100%;\ntop: 10%;\n`;\n_c4 = DealerHand;\nconst DealerUl = styledCom.ul`\nlist-style: none;\n`;\n_c5 = DealerUl;\nconst DealerLi = styledCom.li`\ndisplay: inline-block;\nmargin: 0 0 0 -20px;\n`; // Styled Player Components\n\n_c6 = DealerLi;\nconst PlayerHand = styledCom.div`\ndisplay: flex;\njustify-content: center;\nposition: absolute;\nheight: 140px;\nwidth: 100%;\nbottom: 30%;\n`;\n_c7 = PlayerHand;\nconst PlayerUl = styledCom.ul`\nlist-style: none;\n`;\n_c8 = PlayerUl;\nconst PlayerLi = styledCom.li`\ndisplay: inline-block;\nmargin: 0 0 0 -20px;\n`;\n_c9 = PlayerLi;\nconst Container = styledCom.div`\ndisplay:flex;\njustify-content:center;\nposition:absolute;\nheight:100px;\nwidth:100%;\nheight:100%;\n}\n`;\n_c10 = Container;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10;\n\n$RefreshReg$(_c, \"Game\");\n$RefreshReg$(_c2, \"PlayerUI\");\n$RefreshReg$(_c3, \"DealerTitle\");\n$RefreshReg$(_c4, \"DealerHand\");\n$RefreshReg$(_c5, \"DealerUl\");\n$RefreshReg$(_c6, \"DealerLi\");\n$RefreshReg$(_c7, \"PlayerHand\");\n$RefreshReg$(_c8, \"PlayerUl\");\n$RefreshReg$(_c9, \"PlayerLi\");\n$RefreshReg$(_c10, \"Container\");","map":{"version":3,"sources":["/home/josh/projects/llth-blackjack/blackjack/src/blackjack/Game.js"],"names":["React","useState","useEffect","Grid","styledCom","Deck","Card","DealCards","ActionBtns","Scores","Visuals","ShowResults","Game","GameState","bet","init","playerTurn","dealerTurn","Deal","player","dealer","hidden","Results","blackjack","playerWins","dealerWins","playerBusts","dealerBusts","push","gameState","setGameState","game","setGame","balance","setBalance","betSize","setBetSize","deck","setDeck","hiddenCard","setHiddenCard","dealerHand","setDealerHand","dealerScore","setDealerScore","playerHand","setPlayerHand","playerScore","setPlayerScore","dealerCount","setDealerCount","playerCount","setPlayerCount","dealHands","calculate","alert","setTimeout","reset","checkWin","drawCard","shuffle","newDeck","JSON","parse","stringify","handleClear","handleMax","handleClick","e","value","target","parseInt","dealType","length","randomIndex","Math","floor","random","card","splice","console","log","dealCard","revealCard","pop","cards","setScore","total","forEach","includes","aces","filter","handleHit","handleStand","handleDeal","map","PlayerUI","attrs","container","DealerTitle","h1","DealerHand","div","DealerUl","ul","DealerLi","li","PlayerHand","PlayerUl","PlayerLi","Container"],"mappings":"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WAAW,EAAEkC,WAHf;AAIE,MAAA,WAAW,EAAEJ;AAJf;AAAA;AAAA;AAAA;AAAA,YA7CF,eAkDE,QAAC,OAAD;AACE,MAAA,IAAI,EAAEZ,IADR;AAEE,MAAA,SAAS,EAAEF,SAFb;AAGE,MAAA,SAAS,EAAEhB,SAHb;AAIE,MAAA,OAAO,EAAEsB,OAJX;AAKE,MAAA,OAAO,EAAEF,OALX;AAME,MAAA,UAAU,EAAEY,UANd;AAOE,MAAA,UAAU,EAAEJ,UAPd;AAQI,MAAA,WAAW,EAAEwB,WARjB;AASI,MAAA,SAAS,EAAEC,SATf;AAUI,MAAA,WAAW,EAAEC;AAVjB;AAAA;AAAA;AAAA;AAAA,YAlDF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAiED,CA5TD;;GAAMvD,I;;KAAAA,I;AA8TN,eAAeA,IAAf;AAIA,MAAMoF,QAAQ,GAAG5F,SAAS,CAACD,IAAD,CAAT,CAAgB8F,KAAhB,CAAsB;AACrCC,EAAAA,SAAS,EAAE;AAD0B,CAAtB,CAEd;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAjBA,C,CAoBA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAKA;;MAvTMF,Q;AAwTN,MAAMG,WAAW,GAAG/F,SAAS,CAACgG,EAAG;AACjC;AACA;AACA,CAHA;MAAMD,W;AAKN,MAAME,UAAU,GAAGjG,SAAS,CAACkG,GAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;MAAMD,U;AASN,MAAME,QAAQ,GAAGnG,SAAS,CAACoG,EAAG;AAC9B;AACA,CAFA;MAAMD,Q;AAIN,MAAME,QAAQ,GAAGrG,SAAS,CAACsG,EAAG;AAC9B;AACA;AACA,CAHA,C,CAKA;;MALMD,Q;AAON,MAAME,UAAU,GAAGvG,SAAS,CAACkG,GAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;MAAMK,U;AASN,MAAMC,QAAQ,GAAGxG,SAAS,CAACoG,EAAG;AAC9B;AACA,CAFA;MAAMI,Q;AAIN,MAAMC,QAAQ,GAAGzG,SAAS,CAACsG,EAAG;AAC9B;AACA;AACA,CAHA;MAAMG,Q;AAKN,MAAMC,SAAS,GAAG1G,SAAS,CAACkG,GAAI;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;OAAMQ,S","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { Grid } from \"@mui/material/\";\nimport styledCom from 'styled-components';\n\nimport Deck from \"./cards/Deck.js\";\nimport Card from \"./cards/RenderCard.js\";\nimport DealCards from \"./cards/DealCards.js\";\nimport ActionBtns from \"./player/Actions.js\";\nimport Scores from \"./UI/Scores.js\";\nimport Visuals from \"./UI/Visuals.js\";\nimport ShowResults from \"./UI/Results.js\";\n\n// Core Game Component\nconst Game = () => {\n\n//   // Initializes and holds game state\n  const GameState = {\n    bet: 'bet',\n    init: 'init',\n    playerTurn: 'playerTurn',\n    dealerTurn: 'dealerTurn',\n  };\n  const Deal = {\n    player: 'player',\n    dealer: 'dealer',\n    hidden: 'hidden',\n  };\n  const Results = {\n    blackjack: 'blackjack',\n    playerWins: 'playerWins',\n    dealerWins: 'dealerWins',\n    playerBusts: 'playerBusts',\n    dealerBusts: 'dealerBusts',\n    push: 'push',\n  };\n\n  const [gameState, setGameState] = useState(GameState.bet);\n  const [game, setGame] = useState(\"placeBets\");  \n  const [balance, setBalance] = useState(1000);\n  const [betSize, setBetSize] = useState(0);\n  const [deck, setDeck] = useState(Deck);\n  const [hiddenCard, setHiddenCard] = useState([]);\n  const [dealerHand, setDealerHand] = useState([]);\n  const [dealerScore, setDealerScore] = useState(0);\n  const [playerHand, setPlayerHand] = useState([]);\n  const [playerScore, setPlayerScore] = useState(0);\n  const [dealerCount, setDealerCount] = useState(0);\n  const [playerCount, setPlayerCount] = useState(0);\n  \n\n\n\n  // Initialize Game\n  useEffect(() => {\n    if (gameState === GameState.init) {\n      dealHands();\n      setGameState(GameState.playerTurn); \n    }\n  }, [gameState]);\n\n  // Update scores\n  useEffect(() => {\n    calculate(dealerHand, setDealerScore);\n    setDealerCount(dealerCount + 1)\n  }, [dealerHand, hiddenCard]);\n\n  useEffect(() => {\n    calculate(playerHand, setPlayerScore);\n    setPlayerCount(playerCount + 1)\n  }, [playerHand]);\n\n  // Player turn\n  useEffect(() => {\n      if (playerCount === 2 &&  playerScore === 21 && dealerScore !==21){\n        setGame(Results.blackjack)\n        alert('Blackjack!')\n        setTimeout(() => reset(), [2000])\n\n      };\n      if (playerScore > 21) {\n        setGame(Results.playerBusts)\n        alert('Player Busts')\n        setTimeout(() => reset(), [2000])\n\n      };\n  }, [playerCount]);\n\n  // Dealer turn\n  useEffect(() => {\n    if(gameState === GameState.dealerTurn) {\n      if(dealerScore > 21) {\n        setGame(Results.dealerBusts);\n        alert('Dealer Busts')\n        setTimeout(() => setGameState(GameState.bet), [2000])\n        setTimeout(() => reset(), [2000])\n      } else\n        if (dealerScore >= 17 && dealerScore <= 21) {\n          checkWin();\n        }\n        else {\n          setTimeout(()=>\n          drawCard(Deal.dealer), [300])\n        }\n      }\n    }, [dealerCount]);\n\n\n // Game functions\nconst shuffle = () => {\n  let newDeck = JSON.parse(JSON.stringify(Deck))\n    return (\n      setDeck(newDeck)\n    )\n  };\n  const handleClear = () => {\n    setBetSize(0)\n  };\n  const handleMax = () => {\n    setBetSize(balance)\n  };\n  const handleClick = (e) => {\n    let value = (e.target.value);\n    if (parseInt(betSize)+parseInt(value) > parseInt(balance)){\n      alert(\"Not Enough Minerals\");\n    } else {\n    setBetSize(parseInt(betSize)+parseInt(value))};\n  };\n  const dealHands = () => {\n    setTimeout(() => drawCard(Deal.player), [800])\n    setTimeout(() => drawCard(Deal.hidden), [1300])\n    setTimeout(() => drawCard(Deal.player), [1800])\n    setTimeout(() => drawCard(Deal.dealer), [2300])\n    setTimeout(() => setGame(\"inProgress\"), [2800])\n  };\n  const drawCard = (dealType) => {\n    if (deck.length > 5) {\n      const randomIndex = Math.floor(Math.random() * deck.length);\n      var card = deck[randomIndex];\n      deck.splice(randomIndex, 1);\n      setDeck([...deck]);\n      console.log(card, 'Remaining Cards:', deck.length);\n      dealCard(dealType, card)\n    }; \n    if (deck.length <= 5){\n    shuffle();\n    dealCard(dealType, card);\n    }\n  };\n  const dealCard = (dealType, card) => {\n    switch (dealType) {\n      case Deal.player:\n        playerHand.push(card);\n        setPlayerHand([...playerHand]);\n        break;\n      case Deal.dealer:\n        dealerHand.push(card);\n        setDealerHand([...dealerHand]);\n        break;\n      case Deal.hidden:\n        hiddenCard.push(card);\n        setHiddenCard([...hiddenCard]);\n        break;\n      default:\n        break;\n    }\n  };\n  const revealCard = () => {\n    let hidden = hiddenCard.pop() \n    dealerHand.push(hidden)\n    setDealerHand([...dealerHand])\n  };\n  const calculate = (cards, setScore) => {\n    let total = 0;\n    cards.forEach((card) => {\n      if (!card.includes('A')) {\n        if (card.includes('K')) {\n          total+=10\n        } else \n        if (card.includes('Q')) {\n          total+=10\n        } else\n        if (card.includes('J')) {\n          total+=10\n        } else\n        if (card.includes('T')) {\n          total+=10\n        } else {\n          total += parseInt(card);\n        };\n      };\n    });\n      const aces = cards.filter((card) => {\n        return card.includes('A');\n      });\n      aces.forEach(() => {\n        if ((total + 11) > 21) {\n          total+=1\n        } else \n        if ((total + 11) === 21) {\n          if (aces.length > 1) {\n            total+=1\n          } else {\n          total+=11\n        }\n      } else {\n          total+=11\n        }\n    })\n    setScore(total);\n  };\n  // Player actions\n  const handleHit = () => {\n    drawCard(Deal.player)\n  };\n  const handleStand = () => {\n    revealCard();\n    setGameState(GameState.dealerTurn);\n  };\n  const handleDeal = () => {\n    setGameState(GameState.init)\n    setBalance(balance - betSize)\n  };\n  const checkWin = () => {\n  if(dealerScore > playerScore) {\n    setGame(Results.dealerWins)\n    alert('Dealer Wins')\n    setTimeout(() => reset(), [2000])\n  } else\n  if(dealerScore < playerScore) {\n    setGame(Results.playerWins)\n    alert('Player Wins')\n    setTimeout(() => reset(), [2000])\n\n  } else\n  if(dealerScore === playerScore) {\n    setGame(Results.push)\n    alert('Push')\n    setTimeout(() => reset(), [2000])\n  };\n}\n  // Resets game state\n  const reset = () => {\n    setHiddenCard([]);\n    setPlayerHand([]);\n    setPlayerScore(0);\n    setPlayerCount(0);\n    setDealerHand([]);\n    setDealerScore(0);\n    setDealerCount(0);\n    setBetSize(0);\n    setGame(\"placeBets\");\n    setGameState(GameState.bet)\n    };\n  \n    // console.table('Dealer: ', dealerHand)\n    // console.table('Player: ', playerHand)\n    // console.log('dealerScore: ', dealerScore)\n    // console.log('playerScore: ', playerScore)\n    // console.log('dealerCount: ', dealerCount)\n    // console.log('playerCount: ', playerCount)\n    // console.log('Game results: ', game)\n    // console.log('Game State: ', gameState)\n\n    console.log(gameState)\n  return (\n    <Container>\n      <DealerTitle>DEALER</DealerTitle>\n      <DealerHand>\n        <DealerUl>\n          {hiddenCard.map(card =>\n            <DealerLi key={card}>\n              <Card card={card} back={true} height=\"150px\"/>\n            </DealerLi>)}\n          {dealerHand.map(card =>\n            <DealerLi key={card}>\n              <Card card={card} height=\"150px\"/>\n            </DealerLi>)}\n        </DealerUl>\n      </DealerHand>\n      <DealCards \n        balance={balance}\n        betSize={betSize}\n        gameState={gameState}\n        GameState={GameState} \n          handleDeal={handleDeal}\n          />\n      <PlayerUI>\n        <ShowResults \n          game={game} \n          Results={Results}\n          GameState={GameState}\n            setGameState={setGameState}/>\n        <ActionBtns\n          game={game}\n          GameState={GameState}\n          Results={Results}\n          dealerHand={dealerHand}\n          playerScore={playerScore}\n            handleStand={handleStand} \n            handleHit={handleHit}\n            />\n      </PlayerUI>\n      <PlayerHand>\n        <PlayerUl>\n          {playerHand.map(card => \n            <PlayerLi key={card}>\n              <Card card={card} height=\"150px\"/>\n            </PlayerLi>)}\n        </PlayerUl>\n      </PlayerHand>\n      <Scores \n        gameState={gameState}\n        GameState={GameState}\n        playerScore={playerScore}\n        dealerScore={dealerScore}/>\n      <Visuals \n        game={game}\n        gameState={gameState}\n        GameState={GameState}\n        betSize={betSize}\n        balance={balance}\n        playerHand={playerHand}\n        dealerHand={dealerHand}\n          handleClear={handleClear}\n          handleMax={handleMax}\n          handleClick={handleClick}\n          /> \n    </Container>\n  )\n};\n\nexport default Game;\n\n\n\nconst PlayerUI = styledCom(Grid).attrs({\n  container: true,\n})`\n  position: absolute;\n  height: 200px;\n  bottom:-3%;\n  font-size: 18px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  text-shadow: 0 0 10px black;\n  z-index: 29;\n  color: white;\n  font-family: \"Play\", sans-serif;\n  -webkit--select: none;\n  \n`;\n\n\n// Styled Bet Components\n\n// const Spacing = styledCom(Grid).attrs({\n//   item: true,\n// })`\n//   z-index:-10;\n// `;\n\n// const SetBetSize = styledCom(Grid).attrs({\n//   container: true,\n// })`\n//   position: absolute;\n//   width: 80%;\n//   height: 110px;\n//   margin: 0 auto;\n//   bottom: 1.5%;\n//   display: flex;\n//   color: black;\n//   justify-content: space-evenly;\n//   align-items: center;\n//   z-index: 400;\n// `;\n\n// const ClearBet = styledCom(Grid).attrs({\n//   item: true,\n// })`\n//    `;\n\n// const MaxBet = styledCom(Grid).attrs({\n//   item: true,\n// })`\n//    `;\n\n// const Grid10 = styledCom(Grid).attrs({\n//   item: true,\n// })` \n//   display:absolute;\n//   justifyContent:center;\n//   alignItems:center;\n//   width: 120px;\n//   height: 150px;\n// `;\n\n// const Grid20 = styledCom(Grid).attrs({\n//   item: true,\n// })` \n//   display:absolute;\n//   justifyContent:center;\n//   alignItems:center;\n//   width: 120px;\n//   height: 150px;\n// `;\n// const Grid50 = styledCom(Grid).attrs({\n//   item: true,\n// })`\n//   display:absolute;\n//   justifyContent:center;\n//   alignItems:center;\n//   width: 120px;\n//   height: 150px;\n// `;\n\n// const Grid100 = styledCom(Grid).attrs({\n//   item: true,\n// })` \n//   display:absolute;\n//   justifyContent:center;\n//   alignItems:center;\n//   width: 120px;\n//   height: 150px;\n// `;\n\n// const Bet10 = styledCom(Bet_10)`\n//   transform: scale(1.1);\n//     @media (max-width: 1450px) {\n//       transform: scale(1.0);\n//     }\n//     @media (max-width: 1200px) {\n//       transform: scale(0.9);\n//     }\n// `;\n\n// const Bet20 = styledCom(Bet_20)`\n//   transform: scale(1.1);  \n//     @media (max-width: 1450px) {\n//       transform: scale(1.0);\n//     }\n//     @media (max-width: 1200px) {\n//       transform: scale(0.9);\n//     }\n// `;\n\n// const Bet50 = styledCom(Bet_50)`\n//   transform: scale(1.1);  \n//     @media (max-width: 1450px) {\n//       transform: scale(1.0);\n//     }\n//     @media (max-width: 1200px) {\n//       transform: scale(0.9);\n//     }\n// `;\n\n// const Bet100 = styledCom(Bet_100)`\n//   transform: scale(1.1);\n//     @media (max-width: 1450px) {\n//       transform: scale(1.0);\n//     }\n//     @media (max-width: 1200px) {\n//       transform: scale(0.9);\n//     }\n// `;\n\n// const PlaceBetBtn = styledCom.button`\n//   transform: scale(1);\n//   background: transparent;\n//   width: 100px;\n//   height: 100px;\n//   outline: none;\n//   color: white;\n//   border: none;\n//   cursor: pointer;\n//   user-select: none;\n//   font-family: \"Play\", sans-serif;\n//   -webkit-user-select: none;\n//     &:hover {\n//         transform: scale(1.1);\n//     }\n//     &:active {\n//         transform: scale(1);\n//     }\n//       @media (max-width: 1450px) {\n//         transform: scale(1.0);\n//       }\n//       @media (max-width: 1200px) {\n//         transform: scale(0.9);\n//       }\n// `;\n\n// const ClearBtn = styledCom.button`\n//   background: transparent;\n//   outline: none;\n//   border: none;\n//   cursor: pointer;\n//   user-select: none;\n//   font-family: \"Play\", sans-serif;\n//   -webkit-user-select: none;\n//     &:hover {\n//       transform: scale(1.1);\n//     }\n//     &:active {\n//         transform: scale(0.9);\n//     }\n\n//       @media (max-width: 1450px) {\n//         transform: scale(1.0);\n//       }\n//       @media (max-width: 1200px) {\n//         transform: scale(0.9);\n//       }\n// `;\n// const MaxBetBtn = styledCom.button`\n//   background: transparent;\n//   outline: none;\n//   border: none;\n//   cursor: pointer;\n//   user-select: none;\n//   -webkit-user-select: none;\n//     &:hover {\n//       transform: scale(1.1);\n//     }\n//     &:active {\n//         transform: scale(0.9);\n//     }\n//       @media (max-width: 1450px) {\n//         transform: scale(1.0);\n//       }\n//       @media (max-width: 1200px) {\n//         transform: scale(0.9);\n//       }\n// `;\n\n// Styled Chips Components\n\n// const Chip10 = styledCom.img.attrs({\n//   visibility: \"visible\",\n//   src: Svg10,\n// })`\n//   transform: scale(0.7);\n//   position: absolute;\n//   transform: ${(props) =>\n//     props.one === \"0\" ? \"translateY(-0px)\" : \n//     props.one === \"1\" ? \"translateY(-12px)\" : \n//     props.one === \"2\" ? \"translateY(-24px)\" : \n//     \"translateY(-36px)\"};\n//   bottom:-250px;\n//   margin-left:-20px;\n//   z-index: 8;\n// `;\n\n// const Chip20 = styledCom.img.attrs({\n//   visibility: \"visible\",\n//   src: Svg20,\n// })`transform: scale(0.7);\n//   position: absolute;\n//   transform: ${(props) =>\n//     props.one === \"0\" ? \"translateY(-0px)\" : \n//     props.one === \"1\" ? \"translateY(-12px)\" : \n//     props.one === \"2\" ? \"translateY(-24px)\" : \n//     \"translateY(-36px)\"};\n//   margin-left: -80px;\n//   bottom: -200px;\n//   z-index: 6;\n// `;\n\n// const Chip50 = styledCom.img.attrs({\n//   visibility: \"visible\",\n//   src: Svg50,\n// })`\n//   transform: scale(0.7);\n//   position: absolute;\n//   transform: \n//     ${(props) =>\n//     props.one === \"0\" ? \"translateY(-0px)\" : \n//     props.one === \"1\" ? \"translateY(-12px)\" : \n//     props.one === \"2\" ? \"translateY(-24px)\" : \n//     \"translateY(-36px)\"};\n//   margin-left: -155px;\n//   bottom: -135px;\n//   z-index: 4;\n// `;\n\n// const Chip100 = styledCom.img.attrs({\n//   visibility: \"visible\",\n//   src: Svg100,\n// })`\n//   transform: scale(0.7);\n//   position: absolute;\n//   transform: \n//     ${(props) =>\n//     props.one === \"0\" ? \"translateY(-0px)\" : \n//     props.one === \"1\" ? \"translateY(-12px)\" : \n//     props.one === \"2\" ? \"translateY(-24px)\" : \n//   \"translateY(-36px)\"};\n//   margin-left: -240px;\n//   bottom: -45px;\n//   z-index: 2;\n// `;\n\n// const ChipsArea = styledCom(Grid).attrs({\n//   container: true, spacing: 8,\n// })`\n//   position: absolute;\n//   height:100px;\n//   bottom: 20%;\n//   display: inline-block;\n//   justify-content: center;\n//   align-items: center;\n//   pointer-events: none;\n// `;\n\n// const PlaceChip10 = styledCom(Grid).attrs({\n//   item: true,\n// })`\n//   width: 100px;\n//   height: 200px;\n// `;\n\n// const PlaceChip20 = styledCom(Grid).attrs({\n//   item: true,\n// })`\n//   width: 100px;\n//   height: 200px;\n// `;\n\n// const PlaceChip50 = styledCom(Grid).attrs({\n//   item: true,\n// })`\n//   width: 100px;\n//   height: 200px;\n// `;\n\n// const PlaceChip100 = styledCom(Grid).attrs({\n//   item: true,\n// })`\n//   width: 100px;\n//   height: 200px;\n// `;\n\n\n\n\n// Styled Dealer Components\nconst DealerTitle = styledCom.h1`\nfont: 18px;\ncolor: white;\n`;\n\nconst DealerHand = styledCom.div`\ndisplay: flex;\njustify-content: center;\nposition: absolute;\nheight: 140px;\nwidth: 100%;\ntop: 10%;\n`;\n\nconst DealerUl = styledCom.ul`\nlist-style: none;\n`;\n\nconst DealerLi = styledCom.li`\ndisplay: inline-block;\nmargin: 0 0 0 -20px;\n`;\n\n// Styled Player Components\n\nconst PlayerHand = styledCom.div`\ndisplay: flex;\njustify-content: center;\nposition: absolute;\nheight: 140px;\nwidth: 100%;\nbottom: 30%;\n`;\n\nconst PlayerUl = styledCom.ul`\nlist-style: none;\n`;\n\nconst PlayerLi = styledCom.li`\ndisplay: inline-block;\nmargin: 0 0 0 -20px;\n`;\n\nconst Container = styledCom.div`\ndisplay:flex;\njustify-content:center;\nposition:absolute;\nheight:100px;\nwidth:100%;\nheight:100%;\n}\n`;\n"]},"metadata":{},"sourceType":"module"}